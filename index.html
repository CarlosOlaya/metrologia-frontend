<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronograma de Metrolog칤a y Mantenimiento</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Librer칤a para exportar a Excel (SheetJS) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!-- Librer칤a para Gr치ficos (Chart.js) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
</head>
<style>
    /* Estilo para la fila de subt칤tulo "EQUIPOS BACK-UP" */
    #schedule-table tbody tr.backup-header td,
    #schedule-table tbody tr.group-header td {
        background-color: #6c757d; /* Gris oscuro */
        color: white;
        font-weight: bold;
        text-align: center;
    }
    /* Estilo para reducir el tama침o de la fuente de los estados */
    .estado-texto {
        font-size: 0.85rem; /* Ajusta este valor como necesites (ej: 12px, 0.8rem) */
        font-weight: bold; /* Mantenemos la negrita para que resalte */
    }
</style>
<body>

    <div class="container">
        <header class="page-header">
            <img src="imagenes/logo.png" alt="Logo de la Compa침칤a" class="logo">
            <h1>
                MACROPROCESO: PROYECCI칍N SOCIAL<br>
                PROCESO: PROYECTOS ESPECIALES<br>
                FORMATO: CRONOGRAMA MANTENIMIENTO, CALIBRACI칍N Y CALIFICACI칍N EQUIPOS ESTUDIOS BIOFARMAC칄UTICOS
            </h1>
        </header>

        <div class="form-container">
            <button id="toggle-form-btn" class="btn btn-success">+ A침adir/Modificar Equipo</button>
        </div>
        <div id="form-card" class="card form-card" style="display: none;">
            <h2 id="form-title">A침adir o Modificar Equipo</h2>
            <form id="add-item-form">
                <div class="form-group">
                    <label for="item-id">ID:</label>
                    <input type="number" id="item-id" placeholder="Ej: 15322" required>
                </div>
                <div class="form-group">
                    <input type="hidden" id="edit-item-id">
                    <label for="nombre-equipo">Nombre del Equipo:</label>
                    <input type="text" id="nombre-equipo" placeholder="Ej: Balanza Anal칤tica" required>
                </div>
                <div class="form-group">
                    <label for="ubicacion">Ubicaci칩n:</label>
                    <input type="text" id="ubicacion" placeholder="Ej: Laboratorio de Calidad" required>
                </div>
                <div class="form-group">
                    <label for="proveedor-mantenimiento">Proveedor Mantenimiento:</label>
                    <input type="text" id="proveedor-mantenimiento" placeholder="Nombre del proveedor">
                </div>
                <div class="form-group">
                    <label for="mantenimiento-date">Pr칩ximo Mantenimiento:</label>
                    <input type="date" id="mantenimiento-date">
                </div>
                <div class="form-group">
                    <label for="proveedor-calibracion">Proveedor Calibraci칩n:</label>
                    <input type="text" id="proveedor-calibracion" placeholder="Nombre del proveedor">
                </div>
                <div class="form-group">
                    <label for="calibracion-date">Pr칩xima Calibraci칩n:</label>
                    <input type="date" id="calibracion-date">
                </div>
                <div class="form-group">
                    <label for="proveedor-calificacion">Proveedor Calificaci칩n:</label>
                    <input type="text" id="proveedor-calificacion" placeholder="Nombre del proveedor">
                </div>
                <div class="form-group">
                    <label for="calificacion-date">Pr칩xima Calificaci칩n:</label>
                    <input type="date" id="calificacion-date">
                </div>
                <div class="form-group">
                    <label for="observaciones">Observaciones:</label>
                    <textarea id="observaciones" rows="3" placeholder="A침adir observaciones..."></textarea>
                </div>
                <div class="form-buttons">
                    <button type="submit" id="submit-btn" class="btn btn-primary">A침adir al Cronograma</button>
                    <button type="button" id="cancel-btn" class="btn btn-secondary" style="display: none;">Cancelar</button>
                </div>
            </form>
        </div>

        <div class="card">
            <h2>Cronograma de mantenimiento y metrolog칤a</h2>
            <div class="summary-box">
                <canvas id="summary-chart"></canvas>
            </div>
            <div class="actions">
                <input type="text" id="search-input" placeholder="Buscar por nombre o ubicaci칩n...">
                <button id="export-btn" class="btn btn-success">Exportar a Excel</button>
                <button id="save-db-btn" class="btn btn-success">游 GuardarAtlas</button>

            </div>
            <div class="table-container">
                <table id="schedule-table">
                    <thead>
                         <tr>
                            <th rowspan="2">ID</th>
                            <th rowspan="2">Nombre Equipo</th>
                            <th rowspan="2">Ubicaci칩n</th>
                            <th colspan="4">Mantenimiento</th>
                            <th colspan="4">Calibraci칩n</th>
                            <th colspan="4">Calificaci칩n</th>
                            <th rowspan="2">Observaciones</th>
                            <th rowspan="2">Acciones</th>
                        </tr>
                        <tr>
                            <th>Pr칩xima Fecha</th>
                            <th>Proveedor</th>
                            <th>D칤as Restantes</th>
                            <th>Estado</th>
                            <th>Pr칩xima Fecha</th>
                            <th>Proveedor</th>
                            <th>D칤as Restantes</th>
                            <th>Estado</th>
                            <th>Pr칩xima Fecha</th>
                            <th>Proveedor</th>
                            <th>D칤as Restantes</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Las filas se insertar치n aqu칤 con JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
